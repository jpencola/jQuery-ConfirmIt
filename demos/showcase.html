<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>jQuery-ConfirmIt: Example Showcase</title>
		<style type="text/css">
			/* Wrap rules that are > 3 properties long */ 
			body {margin:35px;}
			pre {
				white-space:normal;
				color: #C1C1C1;
				background-color: #323232;
				line-height: 28px;
				text-indent: 12px;
			}
			div.section {
				margin:25px 0; 
				border-bottom: solid 1px #c1c1c1;
				background-color: #ECF8F8;
				padding: 15px;
			}
			button {display: block; cursor: pointer;}
			button.add {background-color: #9EF398;}
			button.delete {background-color: #F37C9E;}
			button.undo {background-color: #B878F3;}
			button.awesome {background-color: #E795C6;}
			button.spawner {background-color: #4CE737;}
			input.correct {background-color: #9EF398;}
			input.incorrect {background-color: #F37C9E;}
			div.offspring{display: none;}
			div#spawn-container div.offspring{
				display: inline; 
				background-color: #E70047;
				color: #fff;
				margin: 8px;
				cursor: pointer;
			}
		</style>
		<script src="http://code.jquery.com/jquery-1.6.min.js" type="text/javascript"></script>
		<script src="../src/jquery.confirm.it.js" type="text/javascript"></script>
		
		<script type="text/javascript">
			$(function() {
				
				/*	Addition Button: 
				--	See how custom logic fires when confirmed
				--	See how the class attribute is used to set a custom confirm message
				*/
				$('#add').mouseup(function(){
					var current_sum = $('#sum-input').attr('value');
					$('#sum-input').attr('value', +current_sum+10);
				});
				$('#destroy-add').click(function(){
					$("#add").confirmIt('destroy');
				});
				
				/*	Answer Input: 
				--	See how custom logic fires when confirmed
				*/
				$('#addition-answer').blur(function(){
					var correct_answer = (this.value == 5);
					if (correct_answer){
						this.className = 'correct';
					} else {
						this.className = 'incorrect';
					}
				});
				$('#destroy-addition').click(function(){
					$("#addition-answer").confirmIt('destroy');
				});
				
				/*	Undo button: 
				--	Basic confirm example
				*/
				$('#undo').mouseup(function(){
					alert('Your changes have been un-done.');
				});
				$('#destroy-undo').click(function(){
					$("#undo").confirmIt('destroy');
				});
				
				/*	Awesome button: 
				--	See how multiple events bindings of the same type can still be used
				--	and the ConfirmIt event will keep their sequence intact
				*/
				$('#awesome').mouseup(function(e){
					alert('Your awesome fired 1.');
				});
				$('#awesome').mouseup(function(){
					alert('Your awesome fired 2.');
				});
				$('#awesome').mouseup(function(){
					alert('Your awesome fired 3.');
				});
				$('#destroy-awesome').click(function(){
					$("#awesome").confirmIt('destroy');
				});
				
				/*	Spawn element
				--	Adds new elements to the DOM, but they still abide by the ConfirmIt rules.
				*/
				$('#spawner').click(function(e){
					var spawn = document.createElement('div');
					spawn.className = "offspring confirmit {message: Really?}";
					spawn.innerHTML = 'clicky thing';
					$(spawn).confirmIt({
						triggered_by: 'click',
						live: true
					});
					$('#spawn-container').html(spawn);
					$(spawn).click(function(){alert("Hi! Says the spawn.")});
				});
				$('#destroy-spawner').click(function(){
					$("div.offspring").confirmIt('destroy');
				});
				
				/*	Late bound event demo
				--	An element exists in the DOM that matches the ConfirmIt selector rule to have a confirmation, 
				--	however, that element has no matching "triggered_by" event bound to it at the time the plugin 
				--	is instantiated. This demo shows how even when events that match the "triggered_by" event are 
				--	late-bound, they still must be confirmed before firing.	
				*/
				$("#late-undo-binder").one("click", function(){
					$("#late-undo").mouseup(function(){
						alert("Changes have been undone");
					});
				});
				$('#destroy-late-undo').click(function(){
					$("#late-undo").confirmIt('destroy');
				});
				
				/*	Link demo
				--	When dealing with Anchor (</a>) elements, ConfirmIt is best used by working with triggers such as "click" or "mousedown". 
				--	Internally, the plugin assumes that if you are confirming an element that links-off to a URL, then you are using an 
				--	Anchor element to do so.
				*/
				$("a.confirmit").confirmIt();
				$('#destroy-linkout').click(function(){
					$("a.confirmit").confirmIt('destroy');
				});
				
				/*	Begin ConfirmIt instantiation
					------------------------------------------------
				--	In this example I'm passing it the optional "triggered_by" specifier,
				--	which tells the confirm prompt to intercept that event on the elements matched by the selector.	
				--	I'm also passing the optional "message" specifier,
				--	which tells the confirm prompt what the default confirmation message should be if the plugin can't find one.	
				*/
				$("button.confirmit").confirmIt({
					triggered_by: 'mouseup',
					message: "No, wait!"
				});
				
				/*
				--	The simplest usage.
				--	By just passing in a string(that isn't a confirmit event) the string becomes the message
				--	Limitations: You can only specify the message, you cannot override any other options.
				--	therefore, triggered_by='click' and live='false' will be the default setting.
				
				*/
				$("#simple").click(function(){
					alert('Simple button event fired');
				});
				$("button.simple").confirmIt("Do you really want this?");
				
				$("#addition-answer").confirmIt({
					triggered_by: 'blur'
				});
				/* / End ConfirmIt instantiation */
			});
		</script>
	</head>
	<body>
		<h1>ConfirmIt Showcase</h1>
		<div class="section">
			<button id="simple" title="Simple Message" class="simple">Simple</button>
			<pre>
				$("button.simple").confirmIt("Do you really want this?");
			</pre>
		</div>
		<div class="section">
			<button id="add" title="Add Things" class="add confirmit {message: Are you sure you want to add 10 more to this?}">Add</button>
			<input id="sum-input" value="0" readonly="true"></input>
			<pre>
				$("button.confirmit").confirmIt({
					triggered_by: 'mouseup',
					message: "No, wait!"
				});
			</pre>
			<button id="destroy-add">Remove Confirmation</button>
		</div>
		<div class="section">
			Solve: 2 + 3 = <input id="addition-answer" data-confirmit-message="You get one shot, are you sure that is the answer?">
			<pre>
				$("#addition-answer").confirmIt({
					triggered_by: 'blur'
				});
			</pre>
			<button id="destroy-addition">Remove Confirmation</button>
		</div>
		<div class="section">
			<button id="undo" title="Undo Things" class="undo confirmit" data-confirmit-message="Are you sure you want to undo your changes?">Undo</button>
			<pre>
				$("button.confirmit").confirmIt({
					triggered_by: 'mouseup',
					message: "No, wait!"
				});
			</pre>
			<button id="destroy-undo">Remove Confirmation</button>
		</div>
		<div class="section">
			<button id="awesome" title="Sequence Awesomeness" class="awesome confirmit" data-confirmit-message="Are you awesome?">Awesome</button>
			<pre>
				$("button.confirmit").confirmIt({
					triggered_by: 'mouseup',
					message: "No, wait!"
				});
			</pre>
			<button id="destroy-awesome">Remove Confirmation</button>
		</div>
		<div class="section">
			<button id="spawner" title="Spawns more things..." class="spawner">Spawn</button>
			<div id="spawn-container"></div>
			<pre>
				$("div.offspring").confirmIt({
					triggered_by: 'click'
				});
			</pre>
			<button id="destroy-spawner">Remove Confirmation</button>
		</div>
		<div class="section">
			<button id="late-undo" title="Undo Things" class="undo confirmit" data-confirmit-message="Are you sure you want to undo your changes?">Undo</button>
			<button id="late-undo-binder" title="Bind event to Undo" class="">Late Bind to Undo</button>
			<pre>
				$("button.confirmit").confirmIt({
					triggered_by: 'mouseup',
					message: "No, wait!"
				});
			</pre>
			<button id="destroy-late-undo">Remove Confirmation</button>
		</div>
		<div class="section">
			<a class="confirmit" title="Visit Duck-Duck-Go" data-confirmit-message="Are you sure you want to leave this site?" href="http://ddg.gg">Link out to Duck-Duck-Go</a>
			<pre>
				$("a.confirmit").confirmIt();
			</pre>
			<button id="destroy-linkout">Remove Confirmation</button>
		</div>
	</body>
</html>